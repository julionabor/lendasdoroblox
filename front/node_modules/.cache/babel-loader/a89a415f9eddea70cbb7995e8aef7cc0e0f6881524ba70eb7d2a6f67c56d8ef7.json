{"ast":null,"code":"import\"./Search.css\";// Hooks\nimport{useEffect}from\"react\";import{useSelector,useDispatch}from\"react-redux\";import{useResetComponentMessage}from\"../../hooks/useResetComponentMessage\";import{useQuery}from\"../../hooks/useQuery\";// components\nimport LikeContainer from\"../../components/LikeContainer\";import PhotoItem from\"../../components/PhotoItem\";import{Link}from\"react-router-dom\";// redux\nimport{searchPhotos,like}from\"../../slices/photoSlice\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Search=function Search(){var query=useQuery();var search=query.get(\"q\");var dispatch=useDispatch();var resetMessage=useResetComponentMessage(dispatch);var _useSelector=useSelector(function(state){return state.auth;}),user=_useSelector.user;var _useSelector2=useSelector(function(state){return state.photo;}),photos=_useSelector2.photos,loading=_useSelector2.loading;// Load photos\nuseEffect(function(){dispatch(searchPhotos(search));},[dispatch,search]);// Like a photo\nvar handleLike=function handleLike(){var photo=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;dispatch(like(photo._id));resetMessage();};if(loading){/*#__PURE__*/_jsx(\"p\",{children:\"A carregar...\"});}return/*#__PURE__*/_jsxs(\"div\",{id:\"search\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Voc\\xEA est\\xE1 buscando por: \",search,\" \"]}),photos&&photos.map(function(photo){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(PhotoItem,{photo:photo}),/*#__PURE__*/_jsx(LikeContainer,{photo:photo,user:user,handleLike:handleLike}),/*#__PURE__*/_jsx(Link,{className:\"btn\",to:\"/photos/\".concat(photo._id),children:\"Ver mais\"})]},photo._id);}),photos&&photos.length===0&&/*#__PURE__*/_jsx(\"h2\",{className:\"no-photos\",children:\"N\\xE3o foram encontrados resultados para a sua busca.\"})]});};export default Search;","map":{"version":3,"names":["useEffect","useSelector","useDispatch","useResetComponentMessage","useQuery","LikeContainer","PhotoItem","Link","searchPhotos","like","jsx","_jsx","jsxs","_jsxs","Search","query","search","get","dispatch","resetMessage","_useSelector","state","auth","user","_useSelector2","photo","photos","loading","handleLike","arguments","length","undefined","_id","children","id","map","className","to","concat"],"sources":["C:/Users/julio/OneDrive/Área de Trabalho/projetos/curso react/matheus batisti/LegendsRoblox/front/src/pages/Search/Search.js"],"sourcesContent":["import \"./Search.css\";\r\n\r\n// Hooks\r\nimport { useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useResetComponentMessage } from \"../../hooks/useResetComponentMessage\";\r\nimport { useQuery } from \"../../hooks/useQuery\";\r\n\r\n// components\r\nimport LikeContainer from \"../../components/LikeContainer\";\r\nimport PhotoItem from \"../../components/PhotoItem\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n// redux\r\nimport { searchPhotos, like } from \"../../slices/photoSlice\";\r\nconst Search = () => {\r\n\tconst query = useQuery();\r\n\tconst search = query.get(\"q\");\r\n\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst resetMessage = useResetComponentMessage(dispatch);\r\n\r\n\tconst { user } = useSelector((state) => state.auth);\r\n\tconst { photos, loading } = useSelector((state) => state.photo);\r\n\r\n\t// Load photos\r\n\tuseEffect(() => {\r\n\t\tdispatch(searchPhotos(search));\r\n\t}, [dispatch, search]);\r\n\r\n\t// Like a photo\r\n\tconst handleLike = (photo = null) => {\r\n\t\tdispatch(like(photo._id));\r\n\r\n\t\tresetMessage();\r\n\t};\r\n\tif (loading) {\r\n\t\t<p>A carregar...</p>;\r\n\t}\r\n\treturn (\r\n\t\t<div id=\"search\">\r\n\t\t\t<h2>Você está buscando por: {search} </h2>\r\n\t\t\t{photos &&\r\n\t\t\t\tphotos.map((photo) => (\r\n\t\t\t\t\t<div key={photo._id}>\r\n\t\t\t\t\t\t<PhotoItem photo={photo} />\r\n\t\t\t\t\t\t<LikeContainer photo={photo} user={user} handleLike={handleLike} />\r\n\t\t\t\t\t\t<Link className=\"btn\" to={`/photos/${photo._id}`}>\r\n\t\t\t\t\t\t\tVer mais\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t))}\r\n\t\t\t{photos && photos.length === 0 && (\r\n\t\t\t\t<h2 className=\"no-photos\">\r\n\t\t\t\t\tNão foram encontrados resultados para a sua busca.\r\n\t\t\t\t</h2>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Search;\r\n"],"mappings":"AAAA,MAAO,cAAc,CAErB;AACA,OAASA,SAAS,KAAQ,OAAO,CACjC,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,wBAAwB,KAAQ,sCAAsC,CAC/E,OAASC,QAAQ,KAAQ,sBAAsB,CAE/C;AACA,MAAO,CAAAC,aAAa,KAAM,gCAAgC,CAC1D,MAAO,CAAAC,SAAS,KAAM,4BAA4B,CAClD,OAASC,IAAI,KAAQ,kBAAkB,CAEvC;AACA,OAASC,YAAY,CAAEC,IAAI,KAAQ,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAC7D,GAAM,CAAAC,MAAM,CAAG,QAAT,CAAAA,MAAMA,CAAA,CAAS,CACpB,GAAM,CAAAC,KAAK,CAAGX,QAAQ,CAAC,CAAC,CACxB,GAAM,CAAAY,MAAM,CAAGD,KAAK,CAACE,GAAG,CAAC,GAAG,CAAC,CAE7B,GAAM,CAAAC,QAAQ,CAAGhB,WAAW,CAAC,CAAC,CAE9B,GAAM,CAAAiB,YAAY,CAAGhB,wBAAwB,CAACe,QAAQ,CAAC,CAEvD,IAAAE,YAAA,CAAiBnB,WAAW,CAAC,SAACoB,KAAK,QAAK,CAAAA,KAAK,CAACC,IAAI,GAAC,CAA3CC,IAAI,CAAAH,YAAA,CAAJG,IAAI,CACZ,IAAAC,aAAA,CAA4BvB,WAAW,CAAC,SAACoB,KAAK,QAAK,CAAAA,KAAK,CAACI,KAAK,GAAC,CAAvDC,MAAM,CAAAF,aAAA,CAANE,MAAM,CAAEC,OAAO,CAAAH,aAAA,CAAPG,OAAO,CAEvB;AACA3B,SAAS,CAAC,UAAM,CACfkB,QAAQ,CAACV,YAAY,CAACQ,MAAM,CAAC,CAAC,CAC/B,CAAC,CAAE,CAACE,QAAQ,CAAEF,MAAM,CAAC,CAAC,CAEtB;AACA,GAAM,CAAAY,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAA,CAAqB,IAAjB,CAAAH,KAAK,CAAAI,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,IAAI,CAC/BX,QAAQ,CAACT,IAAI,CAACgB,KAAK,CAACO,GAAG,CAAC,CAAC,CAEzBb,YAAY,CAAC,CAAC,CACf,CAAC,CACD,GAAIQ,OAAO,CAAE,CACZ,aAAAhB,IAAA,MAAAsB,QAAA,CAAG,eAAa,CAAG,CAAC,CACrB,CACA,mBACCpB,KAAA,QAAKqB,EAAE,CAAC,QAAQ,CAAAD,QAAA,eACfpB,KAAA,OAAAoB,QAAA,EAAI,gCAAwB,CAACjB,MAAM,CAAC,GAAC,EAAI,CAAC,CACzCU,MAAM,EACNA,MAAM,CAACS,GAAG,CAAC,SAACV,KAAK,qBAChBZ,KAAA,QAAAoB,QAAA,eACCtB,IAAA,CAACL,SAAS,EAACmB,KAAK,CAAEA,KAAM,CAAE,CAAC,cAC3Bd,IAAA,CAACN,aAAa,EAACoB,KAAK,CAAEA,KAAM,CAACF,IAAI,CAAEA,IAAK,CAACK,UAAU,CAAEA,UAAW,CAAE,CAAC,cACnEjB,IAAA,CAACJ,IAAI,EAAC6B,SAAS,CAAC,KAAK,CAACC,EAAE,YAAAC,MAAA,CAAab,KAAK,CAACO,GAAG,CAAG,CAAAC,QAAA,CAAC,UAElD,CAAM,CAAC,GALER,KAAK,CAACO,GAMX,CAAC,EACN,CAAC,CACFN,MAAM,EAAIA,MAAM,CAACI,MAAM,GAAK,CAAC,eAC7BnB,IAAA,OAAIyB,SAAS,CAAC,WAAW,CAAAH,QAAA,CAAC,uDAE1B,CAAI,CACJ,EACG,CAAC,CAER,CAAC,CAED,cAAe,CAAAnB,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}