{"ast":null,"code":"import\"./Home.css\";// Components\nimport LikeContainer from\"../../components/LikeContainer\";import PhotoItem from\"../../components/PhotoItem\";import{Link}from\"react-router-dom\";// Hooks\nimport{useEffect}from\"react\";import{useSelector,useDispatch}from\"react-redux\";import{useResetComponentMessage}from\"../../hooks/useResetComponentMessage\";// redux\nimport{getPhotos,like}from\"../../slices/photoSlice\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Home=function Home(){var dispatch=useDispatch();var resetMessage=useResetComponentMessage(dispatch);var _useSelector=useSelector(function(state){return state.auth;}),user=_useSelector.user;var _useSelector2=useSelector(function(state){return state.photo;}),photos=_useSelector2.photos,loading=_useSelector2.loading;// Load all ohotos\nuseEffect(function(){dispatch(getPhotos());},[dispatch]);// Like a photo\nvar handleLike=function handleLike(){var photo=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;dispatch(like(photo._id));resetMessage();};if(loading){/*#__PURE__*/_jsx(\"p\",{children:\"A carregar...\"});}return/*#__PURE__*/_jsxs(\"div\",{id:\"home\",children:[photos&&photos.map(function(photo){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(PhotoItem,{photo:photo}),/*#__PURE__*/_jsx(LikeContainer,{photo:photo,user:user,handleLike:handleLike}),/*#__PURE__*/_jsx(Link,{className:\"btn\",to:\"/photos/\".concat(photo._id),children:\"Ver mais\"})]},photo._id);}),photos&&photos.length===0&&/*#__PURE__*/_jsxs(\"h2\",{className:\"no-photos\",children:[\"Ainda n\\xE3o h\\xE1 fotos publicadas,\",/*#__PURE__*/_jsx(Link,{to:\"/users/\".concat(user._id),children:\" Clique aqui\"})]})]});};export default Home;","map":{"version":3,"names":["LikeContainer","PhotoItem","Link","useEffect","useSelector","useDispatch","useResetComponentMessage","getPhotos","like","jsx","_jsx","jsxs","_jsxs","Home","dispatch","resetMessage","_useSelector","state","auth","user","_useSelector2","photo","photos","loading","handleLike","arguments","length","undefined","_id","children","id","map","className","to","concat"],"sources":["C:/Users/julio/OneDrive/Área de Trabalho/projetos/curso react/matheus batisti/LegendsRoblox/front/src/pages/Home/Home.js"],"sourcesContent":["import \"./Home.css\";\r\n\r\n// Components\r\nimport LikeContainer from \"../../components/LikeContainer\";\r\nimport PhotoItem from \"../../components/PhotoItem\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n// Hooks\r\nimport { useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useResetComponentMessage } from \"../../hooks/useResetComponentMessage\";\r\n\r\n// redux\r\nimport { getPhotos, like } from \"../../slices/photoSlice\";\r\n\r\nconst Home = () => {\r\n\tconst dispatch = useDispatch();\r\n\r\n\tconst resetMessage = useResetComponentMessage(dispatch);\r\n\r\n\tconst { user } = useSelector((state) => state.auth);\r\n\tconst { photos, loading } = useSelector((state) => state.photo);\r\n\r\n\t// Load all ohotos\r\n\tuseEffect(() => {\r\n\t\tdispatch(getPhotos());\r\n\t}, [dispatch]);\r\n\r\n\t// Like a photo\r\n\tconst handleLike = (photo = null) => {\r\n\t\tdispatch(like(photo._id));\r\n\r\n\t\tresetMessage();\r\n\t};\r\n\tif (loading) {\r\n\t\t<p>A carregar...</p>;\r\n\t}\r\n\treturn (\r\n\t\t<div id=\"home\">\r\n\t\t\t{photos &&\r\n\t\t\t\tphotos.map((photo) => (\r\n\t\t\t\t\t<div key={photo._id}>\r\n\t\t\t\t\t\t<PhotoItem photo={photo} />\r\n\t\t\t\t\t\t<LikeContainer photo={photo} user={user} handleLike={handleLike} />\r\n\t\t\t\t\t\t<Link className=\"btn\" to={`/photos/${photo._id}`}>\r\n\t\t\t\t\t\t\tVer mais\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t))}\r\n\t\t\t{photos && photos.length === 0 && (\r\n\t\t\t\t<h2 className=\"no-photos\">\r\n\t\t\t\t\tAinda não há fotos publicadas,\r\n\t\t\t\t\t<Link to={`/users/${user._id}`}> Clique aqui</Link>\r\n\t\t\t\t</h2>\r\n\t\t\t)}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Home;\r\n"],"mappings":"AAAA,MAAO,YAAY,CAEnB;AACA,MAAO,CAAAA,aAAa,KAAM,gCAAgC,CAC1D,MAAO,CAAAC,SAAS,KAAM,4BAA4B,CAClD,OAASC,IAAI,KAAQ,kBAAkB,CAEvC;AACA,OAASC,SAAS,KAAQ,OAAO,CACjC,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,wBAAwB,KAAQ,sCAAsC,CAE/E;AACA,OAASC,SAAS,CAAEC,IAAI,KAAQ,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE1D,GAAM,CAAAC,IAAI,CAAG,QAAP,CAAAA,IAAIA,CAAA,CAAS,CAClB,GAAM,CAAAC,QAAQ,CAAGT,WAAW,CAAC,CAAC,CAE9B,GAAM,CAAAU,YAAY,CAAGT,wBAAwB,CAACQ,QAAQ,CAAC,CAEvD,IAAAE,YAAA,CAAiBZ,WAAW,CAAC,SAACa,KAAK,QAAK,CAAAA,KAAK,CAACC,IAAI,GAAC,CAA3CC,IAAI,CAAAH,YAAA,CAAJG,IAAI,CACZ,IAAAC,aAAA,CAA4BhB,WAAW,CAAC,SAACa,KAAK,QAAK,CAAAA,KAAK,CAACI,KAAK,GAAC,CAAvDC,MAAM,CAAAF,aAAA,CAANE,MAAM,CAAEC,OAAO,CAAAH,aAAA,CAAPG,OAAO,CAEvB;AACApB,SAAS,CAAC,UAAM,CACfW,QAAQ,CAACP,SAAS,CAAC,CAAC,CAAC,CACtB,CAAC,CAAE,CAACO,QAAQ,CAAC,CAAC,CAEd;AACA,GAAM,CAAAU,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAA,CAAqB,IAAjB,CAAAH,KAAK,CAAAI,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,IAAI,CAC/BX,QAAQ,CAACN,IAAI,CAACa,KAAK,CAACO,GAAG,CAAC,CAAC,CAEzBb,YAAY,CAAC,CAAC,CACf,CAAC,CACD,GAAIQ,OAAO,CAAE,CACZ,aAAAb,IAAA,MAAAmB,QAAA,CAAG,eAAa,CAAG,CAAC,CACrB,CACA,mBACCjB,KAAA,QAAKkB,EAAE,CAAC,MAAM,CAAAD,QAAA,EACZP,MAAM,EACNA,MAAM,CAACS,GAAG,CAAC,SAACV,KAAK,qBAChBT,KAAA,QAAAiB,QAAA,eACCnB,IAAA,CAACT,SAAS,EAACoB,KAAK,CAAEA,KAAM,CAAE,CAAC,cAC3BX,IAAA,CAACV,aAAa,EAACqB,KAAK,CAAEA,KAAM,CAACF,IAAI,CAAEA,IAAK,CAACK,UAAU,CAAEA,UAAW,CAAE,CAAC,cACnEd,IAAA,CAACR,IAAI,EAAC8B,SAAS,CAAC,KAAK,CAACC,EAAE,YAAAC,MAAA,CAAab,KAAK,CAACO,GAAG,CAAG,CAAAC,QAAA,CAAC,UAElD,CAAM,CAAC,GALER,KAAK,CAACO,GAMX,CAAC,EACN,CAAC,CACFN,MAAM,EAAIA,MAAM,CAACI,MAAM,GAAK,CAAC,eAC7Bd,KAAA,OAAIoB,SAAS,CAAC,WAAW,CAAAH,QAAA,EAAC,sCAEzB,cAAAnB,IAAA,CAACR,IAAI,EAAC+B,EAAE,WAAAC,MAAA,CAAYf,IAAI,CAACS,GAAG,CAAG,CAAAC,QAAA,CAAC,cAAY,CAAM,CAAC,EAChD,CACJ,EACG,CAAC,CAER,CAAC,CAED,cAAe,CAAAhB,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}