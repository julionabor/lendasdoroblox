{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/julio/OneDrive/\\xC1rea de Trabalho/projetos/curso react/matheus batisti/LegendsRoblox/front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/julio/OneDrive/\\xC1rea de Trabalho/projetos/curso react/matheus batisti/LegendsRoblox/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{api,requestConfig}from\"../utils/config\";// register an user\nvar register=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(data){var config,res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:config=requestConfig(\"POST\",data);_context.prev=1;_context.next=4;return fetch(api+\"/users/register\",config).then(function(res){return res.json();}).catch(function(err){return err;});case 4:res=_context.sent;if(res._id){localStorage.setItem(\"user\",JSON.stringify(res));}return _context.abrupt(\"return\",res);case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);console.log(_context.t0);case 12:case\"end\":return _context.stop();}},_callee,null,[[1,9]]);}));return function register(_x){return _ref.apply(this,arguments);};}();// Logout an user\nvar logout=function logout(){localStorage.removeItem(\"user\");};// Sign in an user\nvar login=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(data){var config,res;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:config=requestConfig(\"POST\",data);_context2.prev=1;_context2.next=4;return fetch(api+\"/users/login\",config).then(function(res){return res.json();}).catch(function(err){return console.log(err);});case 4:res=_context2.sent;if(res){localStorage.setItem(\"user\",JSON.stringify(res));}return _context2.abrupt(\"return\",res);case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](1);console.log(_context2.t0);case 12:case\"end\":return _context2.stop();}},_callee2,null,[[1,9]]);}));return function login(_x2){return _ref2.apply(this,arguments);};}();var authService={register:register,logout:logout,login:login};export default authService;","map":{"version":3,"names":["api","requestConfig","register","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","config","res","wrap","_callee$","_context","prev","next","fetch","then","json","catch","err","sent","_id","localStorage","setItem","JSON","stringify","abrupt","t0","console","log","stop","_x","apply","arguments","logout","removeItem","login","_ref2","_callee2","_callee2$","_context2","_x2","authService"],"sources":["C:/Users/julio/OneDrive/Área de Trabalho/projetos/curso react/matheus batisti/LegendsRoblox/front/src/services/authService.js"],"sourcesContent":["import { api, requestConfig } from \"../utils/config\";\r\n\r\n// register an user\r\nconst register = async (data) => {\r\n\tconst config = requestConfig(\"POST\", data);\r\n\r\n\ttry {\r\n\t\tconst res = await fetch(api + \"/users/register\", config)\r\n\t\t\t.then((res) => res.json())\r\n\t\t\t.catch((err) => err);\r\n\r\n\t\tif (res._id) {\r\n\t\t\tlocalStorage.setItem(\"user\", JSON.stringify(res));\r\n\t\t}\r\n\r\n\t\treturn res;\r\n\t} catch (error) {\r\n\t\tconsole.log(error);\r\n\t}\r\n};\r\n// Logout an user\r\nconst logout = () => {\r\n\tlocalStorage.removeItem(\"user\");\r\n};\r\n\r\n// Sign in an user\r\nconst login = async (data) => {\r\n\tconst config = requestConfig(\"POST\", data);\r\n\r\n\ttry {\r\n\t\tconst res = await fetch(api + \"/users/login\", config)\r\n\t\t\t.then((res) => res.json())\r\n\t\t\t.catch((err) => console.log(err));\r\n\t\t\r\n\t\tif (res) {\r\n\t\t\tlocalStorage.setItem(\"user\", JSON.stringify(res));\r\n\t\t}\r\n\r\n\t\treturn res;\r\n\t} catch (error) {\r\n\t\tconsole.log(error);\r\n\t}\r\n};\r\n\r\nconst authService = {\r\n\tregister,\r\n\tlogout,\r\n\tlogin,\r\n};\r\nexport default authService;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}